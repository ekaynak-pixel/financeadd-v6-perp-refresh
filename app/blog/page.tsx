import Link from 'next/link';import {getDB} from '../../lib/db';export const dynamic='force-dynamic';export default function BlogIndex(){const db=getDB();const posts=db.prepare('SELECT slug,title,created_at FROM posts ORDER BY created_at DESC LIMIT 500').all();return(<div className="grid gap-4"><h1 className="text-2xl font-semibold">Blog</h1>{posts.map((p:any)=>(<Link key={p.slug} className="card" href={`/blog/${p.slug}`}><div className="text-lg font-medium">{p.title}</div><div className="small">{new Date(p.created_at).toLocaleString()}</div></Link>))}{posts.length===0&&<div className="small">No posts yet. Use /admin â†’ Generate Blog Post to create your first article, or run a search to auto-create a stub page.</div>}</div>)}
