import {NextRequest,NextResponse} from 'next/server';import {setSetting} from '../../../../lib/db';export const runtime='nodejs';export async function POST(req:NextRequest){const {cseCx,cseKey,siteUrl,indexKey,model,offline,maxSearch,maxPosts}=await req.json();if(cseCx) setSetting('NEXT_PUBLIC_GOOGLE_CSE_CX',cseCx);if(cseKey) setSetting('GOOGLE_CSE_API_KEY',cseKey);if(siteUrl) setSetting('SITE_URL',siteUrl);if(indexKey) setSetting('INDEXNOW_KEY',indexKey);if(model) setSetting('OPENROUTER_MODEL',model);if(offline!==undefined) setSetting('OFFLINE_MODE',String(offline));if(maxSearch) setSetting('MAX_SEARCH_ROWS',String(maxSearch));if(maxPosts) setSetting('MAX_POSTS',String(maxPosts));return NextResponse.json({ok:true})}
